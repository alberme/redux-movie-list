(this["webpackJsonpredux-example"]=this["webpackJsonpredux-example"]||[]).push([[0],{93:function(e,t,n){"use strict";n.r(t);var r=n(21),c=n(57),i=n(6),a=n(15),o=n.n(a),s=n(0),l=n(19),u=n(26),j=n(20),d=n(13),O=n(28),p=n(5),b=function(e){var t=e.movieList,n=e.getMovieList,r=e.removeMovieFromList;return Object(s.useEffect)((function(){n()}),[n]),Object(p.jsxs)(l.a,{children:[Object(p.jsx)("h1",{children:"My Movie List"}),Object(p.jsx)(u.a,{children:t&&t.list&&t.list.map((function(e){return Object(p.jsx)(j.a,{xs:12,md:6,lg:3,children:Object(p.jsxs)(d.a,{style:{width:"18rem"},children:[Object(p.jsx)(d.a.Img,{variant:"top",src:e.Poster,alt:"".concat(e.Title," poster")}),Object(p.jsxs)(d.a.Body,{children:[Object(p.jsx)(d.a.Title,{children:e.Title}),Object(p.jsx)(O.a,{variant:"primary",onClick:function(){return r(e)},children:"Remove From List"})]})]})},e.imdbID)}))})]})},h=b=Object(r.b)((function(e){return{movieList:e.movieListReducer}}),{getMovieList:function(){return{type:"GET_MOVIE_LIST"}},removeMovieFromList:function(e){return{type:"REMOVE_MOVIE_FROM_LIST",payload:e}}})(b),v=(n(68),n(23)),m=n.n(v),f=n(38),x=n(30),g=n(51),y=n(52),L=n(39),I=n.n(L),M="39926dda",S=function(){function e(){Object(g.a)(this,e)}return Object(y.a)(e,[{key:"getMoviesByTitle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return I.a.get("https://www.omdbapi.com/?s=".concat(e,"&page=").concat(t,"&apikey=").concat(M)).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}},{key:"getMovieById",value:function(e){return I.a.get("https://www.omdbapi.com/?i=".concat(e,"&apikey=").concat(M)).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}}]),e}(),T=n(96),w=function(e){e.onSearch;var t=Object(s.useState)(),n=Object(x.a)(t,2);n[0],n[1];return Object(p.jsx)(T.a,{children:Object(p.jsx)(u.a,{children:Object(p.jsx)(j.a,{})})})},E=function(e){var t=e.addMovieToList,n=new S,r=Object(s.useState)(),c=Object(x.a)(r,2),i=c[0],a=c[1],o=function(){var e=Object(f.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getMoviesByTitle(t);case 2:r=e.sent,a(r.Search);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(f.a)(m.a.mark((function e(r){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getMovieById(r);case 2:c=e.sent,t(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(l.a,{children:[Object(p.jsx)(w,{onSearch:o}),Object(p.jsx)(u.a,{children:i&&i.map((function(e){return Object(p.jsx)(j.a,{xs:12,md:6,lg:3,children:Object(p.jsxs)(d.a,{style:{width:"18rem"},children:[Object(p.jsx)(d.a.Img,{variant:"top",src:e.Poster,alt:"".concat(e.Title," poster")}),Object(p.jsxs)(d.a.Body,{children:[Object(p.jsx)(d.a.Title,{children:e.Title}),Object(p.jsx)(O.a,{variant:"primary",onClick:function(){return b(e.imdbID)},children:"Add To List"})]})]})},e.imdbID)}))})]})},_=E=Object(r.b)(null,{addMovieToList:function(e){return{type:"ADD_MOVIE_TO_LIST",payload:e}}})(E),D=n(18),k=n(53),R=function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var r=t(n);return console.log("next state",e.getState()),console.groupEnd(),r}}},V=function(e){return function(t,n,r){return e((function(e,n){var r,c=performance.now(),i=t(e,n),a=performance.now(),o=(r=a-c,Math.round(100*r)/100);return console.log("reducer process time:",o),i}),n,r)}},B=n(54),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIE_LIST":var n=localStorage.getItem("movieList");return n?JSON.parse(n):e;case"ADD_MOVIE_TO_LIST":var r=localStorage.getItem("movieList");return r?(r=JSON.parse(r),console.log("HELLO FROM ADD TO MOVIE LIST",t.payload),r.list.push(t.payload)):r={list:[t.payload]},localStorage.setItem("movieList",JSON.stringify(r)),r;case"REMOVE_MOVIE_FROM_LIST":var c=localStorage.getItem("movieList"),i=(c=JSON.parse(c)).list.filter((function(e){return e.imdbID!==t.payload.imdbID}));return Array.isArray(i)?(c={list:i},localStorage.setItem("movieList",JSON.stringify(c))):localStorage.removeItem("movieList"),c;default:return e}},A=Object(D.combineReducers)({movieListReducer:J});var F=n(24),N=n(33),C=function(){return Object(p.jsx)(F.a,{bg:"light",expand:"lg",children:Object(p.jsxs)(l.a,{children:[Object(p.jsx)(F.a.Brand,{href:"/",children:"Movie Database"}),Object(p.jsx)(F.a.Toggle,{}),Object(p.jsx)(F.a.Collapse,{children:Object(p.jsxs)(N.a,{children:[Object(p.jsx)(N.a.Link,{href:"/",children:"Home"}),Object(p.jsx)(N.a.Link,{href:"/movie-list",children:"Movie List"})]})})]})})};o.a.render(Object(p.jsx)(r.a,{store:function(e){var t=[R,k.a],n=[D.applyMiddleware.apply(void 0,t),V];return Object(D.createStore)(A,e,B.composeWithDevTools.apply(void 0,n))}(),children:Object(p.jsxs)(c.a,{children:[Object(p.jsx)(C,{}),Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{exact:!0,path:"/",component:_}),Object(p.jsx)(i.a,{exact:!0,path:"/movie-list",component:h})]})]})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.45335616.chunk.js.map