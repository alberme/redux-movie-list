(this["webpackJsonpredux-example"]=this["webpackJsonpredux-example"]||[]).push([[0],{134:function(e,t,n){"use strict";n.r(t);var r=n(19),c=n.n(r),a=n(33),o=n(72),s=function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var r=t(n);return console.log("next state",e.getState()),console.groupEnd(),r}}},i=function(e){return function(t,n,r){return e((function(e,n){var r,c=performance.now(),a=t(e,n),o=performance.now(),s=(r=o-c,Math.round(100*r)/100);return console.log("reducer process time:",s),a}),n,r)}},l=n(73),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIE_LIST":var n=localStorage.getItem("movieList");return n?JSON.parse(n):e;case"ADD_MOVIE_TO_LIST":var r=localStorage.getItem("movieList");return r?(r=JSON.parse(r),console.log("HELLO FROM ADD TO MOVIE LIST",t.payload),r.list.push(t.payload)):r={list:[t.payload]},localStorage.setItem("movieList",JSON.stringify(r)),r;case"REMOVE_MOVIE_FROM_LIST":var c=localStorage.getItem("movieList"),a=(c=JSON.parse(c)).list.filter((function(e){return e.imdbID!==t.payload.imdbID}));return Array.isArray(a)?(c={list:a},localStorage.setItem("movieList",JSON.stringify(c))):localStorage.removeItem("movieList"),c;default:return e}},d=Object(a.combineReducers)({movieListReducer:u});function j(e){var t=[s,o.a],n=[a.applyMiddleware.apply(void 0,t),i];return Object(a.createStore)(d,e,l.composeWithDevTools.apply(void 0,n))}var b,h,O,p,m,v,x=n(35),f=n(37),g=n(10),y=n(40),w=n(75),S=n(53),L=n.p+"static/media/popcorn.1d182f4c.jpg",I=n(1),M=function(){return Object(I.jsx)(y.a,{bg:"light",expand:"lg",children:Object(I.jsxs)(w.a,{children:[Object(I.jsxs)(y.a.Brand,{as:f.b,to:"/",children:["Movie Database\xa0",Object(I.jsx)("img",{src:L,alt:"popcorn logo",width:"25",height:"25",className:"d-inline-block align-top"})]}),Object(I.jsx)(y.a.Toggle,{}),Object(I.jsx)(y.a.Collapse,{children:Object(I.jsxs)(S.a,{children:[Object(I.jsx)(S.a.Link,{as:f.b,to:"/",children:"Home"}),Object(I.jsx)(S.a.Link,{as:f.b,to:"/movie-list",children:"Movie List"})]})})]})})},k=n(2),_=n(12),D=n.n(_),T=n(22),E=n(13),V=n(0),R=n(46),N=n(47),A=n(52),z=n.n(A),C="68d1dc4bd80fd0b21d0c0d3cb4846c5d",F=function(e,t){var n="".concat("https://api.themoviedb.org/3").concat(e.startsWith("/")?e:"/"+e,"?api_key=").concat(C);for(var r in t)n+="&".concat(r,"=").concat(t[r]);return n},J=function(){function e(){Object(R.a)(this,e)}return Object(N.a)(e,null,[{key:"search",value:function(){var e=Object(T.a)(D.a.mark((function e(t,n){var r,c,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!!n.include_adult&&n.include_adult,c=F("/search/".concat(t),Object(k.a)(Object(k.a)({},n),{},{include_adult:r})),e.next=4,z.a.get(c);case 4:return(a=e.sent).success&&"false"===a.success&&console.error("/search/".concat(t,"\n").concat(a.data.status_message)),e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getDetails",value:function(){var e=Object(T.a)(D.a.mark((function e(t,n,r){var c,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=F("/".concat(t,"/").concat(n),r),e.next=3,z.a.get(c);case 3:return(a=e.sent).success&&"false"===a.success&&console.error("/".concat(t,"/").concat(n,"/\n").concat(a.data.status_message)),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getVideos",value:function(){var e=Object(T.a)(D.a.mark((function e(t,n,r){var c,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=F("/".concat(t,"/").concat(n,"/videos"),r),e.next=3,z.a.get(c);case 3:return(a=e.sent).success&&"false"===a.success&&console.error("/".concat(t,"/").concat(n,"/videos\n").concat(a.data.status_message)),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}(),B=n(137),q=n(80),H=n(25),W=n(26),G=n(86),P=Object(W.a)(G.a)(b||(b=Object(H.a)(["\n  width: 14rem;\n  \n  h5 {\n    font-family: Arial Black;\n    letter-spacing: 0.1rem;\n    margin-bottom: 1.0rem\n  }\n  .movie-type {\n    background-color: rgb(255, 196, 189);\n    color: red;\n    margin: 0.2rem 0rem;\n    padding: .375rem 1.0rem;\n    border: 1px solid red;\n    font-size: small;\n  }\n"]))),Y=W.a.div(h||(h=Object(H.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n\n  .btn {\n    margin: 0 0.1rem\n  }\n"]))),K=n(136),Q=function(e){var t=e.movie,n=e.onShowDetails,r=e.onAddToMovieList,c=e.onRemoveFromMovieList,a=t.type,o=t.title,s=t.poster_path,i=t.id;return Object(I.jsxs)(P,{children:[Object(I.jsx)(P.Img,{variant:"top",src:null!==s?"https://image.tmdb.org/t/p/w300"+s:"".concat("/redux-movie-list","/poster-placeholder.png"),alt:o,onError:function(e){console.log('"'.concat(e.target.alt,'" poster could not be loaded!'))}}),Object(I.jsxs)(P.Body,{children:[Object(I.jsx)(P.Title,{children:o}),Object(I.jsx)(K.a,{style:{borderRadius:"1rem",padding:".15rem .75rem"},variant:"outline-info",size:"xs",disabled:!0,children:a})]}),Object(I.jsxs)(Y,{children:[Object(I.jsx)(K.a,{variant:"outline-primary",size:"sm",onClick:function(){return n(i)},children:"Show Details"}),r&&Object(I.jsx)(K.a,{variant:"outline-primary",size:"sm",onClick:function(){return r(i)},children:"Add Movie"}),c&&Object(I.jsx)(K.a,{variant:"outline-primary",size:"sm",onClick:function(){return c(i)},children:"Remove Movie"})]})]})},U=n(8),X=n(139),Z=function(e){var t=e.onSearch,n=Object(V.useState)({query:"",type:""}),r=Object(E.a)(n,2),c=r[0],a=r[1],o=function(e){var t=e.target;t.name?a(Object(k.a)(Object(k.a)({},c),{},Object(U.a)({},t.name,t.value))):console.warn("received unnamed element ".concat(t.localName))};return Object(I.jsx)(X.a,{onSubmit:function(e){c.query&&c.type?t(c):console.log("no search or type"),e.preventDefault()},children:Object(I.jsxs)(B.a,{className:"align-items-center",children:[Object(I.jsx)(q.a,{md:6,className:"my-1",children:Object(I.jsx)(X.a.Control,{name:"query",placeholder:"Search for a Movie or TV Series!",onChange:o})}),Object(I.jsx)(q.a,{children:Object(I.jsxs)(X.a.Select,{className:"me-sm-2",name:"type",onChange:o,children:[Object(I.jsx)("option",{value:"",children:"Select Type"}),Object(I.jsx)("option",{value:"movie",children:"Movie"}),Object(I.jsx)("option",{value:"tv",children:"TV Show"})]})}),Object(I.jsx)(q.a,{md:"auto",className:"my-1",children:Object(I.jsx)(K.a,{type:"submit",children:"Search"})})]})})},$=n(85),ee=Object(W.a)($.a.Header)(O||(O=Object(H.a)(["\n  border: 1px solid lightgray;\n  background-color: whitesmoke;\n"]))),te=Object(W.a)(q.a)(p||(p=Object(H.a)(["\n  background-color: lightgray;\n  padding: 0vw;\n\n  & + & {\n    background-color: white;\n  }\n"]))),ne=Object(W.a)($.a.Body)(m||(m=Object(H.a)(["\n  border: 1px solid lightgray;\n  overflow: auto;\n"]))),re=function(e){var t=e.show,n=e.onClose,r=e.children;return Object(I.jsx)($.a,{className:"show-grid",size:"xl",centered:!0,show:t,onHide:n,children:Object(I.jsxs)(B.a,{children:[Object(I.jsx)(te,{xs:2,sm:2,md:3,lg:3}),Object(I.jsxs)(te,{xs:!0,sm:!0,md:!0,lg:!0,children:[Object(I.jsx)(ee,{closeButton:!0,children:"\xa0"}),Object(I.jsx)(ne,{children:r})]})]})})},ce=n(138),ae=Object(W.a)(w.a)(v||(v=Object(H.a)(["\n  background-image: url(",");\n  height: 100vh;\n"])),(function(e){return e.backgroundImage})),oe=n(82),se=function(e){var t=e.movieDbId,n=e.type,r=e.width,c=void 0===r?720:r,a=e.height,o=void 0===a?512:a,s=Object(V.useState)(""),i=Object(E.a)(s,2),l=i[0],u=i[1],d=function(){var e=Object(T.a)(D.a.mark((function e(r){var c,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getVideos(n,t);case 2:c=e.sent,(a=c.results.find((function(e){return"YouTube"===e.site})))&&u(a.key);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(V.useEffect)((function(){d(t)}),[t]),l&&Object(I.jsx)(oe.a,{videoId:l,opts:{height:o,width:c,playerVars:{autoplay:0}},onReady:function(e){console.log("handle on ready"),e.target.pauseVideo()}})},ie=function(e){var t=e.movieDbId,n=e.type,r=Object(V.useState)({}),c=Object(E.a)(r,2),a=c[0],o=c[1],s=function(){var e=Object(T.a)(D.a.mark((function e(t,n){var r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getDetails(n,t);case 2:r=e.sent,o(r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(V.useEffect)((function(){s(t,n)}),[t,n]),0===Object.entries(a).length?Object(I.jsx)("h2",{children:"Loading..."}):a.Error?Object(I.jsx)("div",{className:"movie-list-error",children:Object(I.jsx)("h2",{children:a.Error})}):Object(I.jsxs)(ae,{backgroundImage:"https://mdbootstrap.com/img/Photos/Others/images/76.jpg",children:[Object(I.jsxs)(B.a,{children:[Object(I.jsx)(q.a,{children:Object(I.jsx)(ce.a,{src:null!==a.poster_path?"https://image.tmdb.org/t/p/w300"+a.poster_path:"".concat("/redux-movie-list","/poster-placeholder.png"),alt:a.title,fluid:!0})}),Object(I.jsxs)(q.a,{children:[Object(I.jsxs)(B.a,{lg:2,children:[Object(I.jsx)(q.a,{children:Object(I.jsx)("h2",{children:a.title})}),Object(I.jsx)(q.a,{md:{span:4,offset:2},style:{color:"rgb(113, 151, 255)",fontSize:"x-large",fontWeight:"bold"},children:a.vote_average})]}),Object(I.jsxs)(B.a,{lg:3,children:[Object(I.jsx)(K.a,{variant:"outline-secondary",size:"sm",disabled:!0,children:a.status})," ",Object(I.jsx)(K.a,{variant:"outline-secondary",size:"sm",disabled:!0,children:a.runtime})," ",Object(I.jsx)(K.a,{variant:"outline-secondary",size:"sm",disabled:!0,children:a.genres[0].name})," "]}),Object(I.jsxs)(B.a,{lg:1,children:[Object(I.jsx)("h3",{children:"Plot"}),Object(I.jsx)("p",{children:a.overview})]}),Object(I.jsxs)(B.a,{lg:1,children:[Object(I.jsx)("h3",{children:"Tagline"}),Object(I.jsx)("p",{children:a.tagline})]})]})]}),Object(I.jsx)(B.a,{children:Object(I.jsx)(q.a,{children:Object(I.jsx)(se,{movieDbId:t,type:n})})})]})},le=function(e){var t=e.addMovieToList,n=Object(V.useState)({type:"",list:[]}),r=Object(E.a)(n,2),c=r[0],a=r[1],o=Object(V.useState)(!1),s=Object(E.a)(o,2),i=s[0],l=s[1],u=Object(V.useState)(""),d=Object(E.a)(u,2),j=d[0],b=d[1],h=function(){var e=Object(T.a)(D.a.mark((function e(t){var n,r,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,r=t.query,e.next=3,J.search(n,{query:r});case 3:c=e.sent,a({type:n,list:c.results});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(T.a)(D.a.mark((function e(n){var r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getDetails(c.type,n);case 2:r=e.sent,t(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){b(""+e),l(!0)};return Object(I.jsxs)(w.a,{children:[Object(I.jsx)(Z,{onSearch:h}),Object(I.jsxs)(B.a,{children:[i&&Object(I.jsx)(re,{show:i,onClose:function(){b(""),l(!1)},children:Object(I.jsx)(ie,{movieDbId:j,type:c.type})}),Array.isArray(null===c||void 0===c?void 0:c.list)&&c.list.map((function(e){return Object(I.jsx)(q.a,{xs:12,md:6,lg:3,children:Object(I.jsx)(Q,{movie:Object(k.a)(Object(k.a)({},e),{},{type:c.type}),onShowDetails:p,onAddToMovieList:O})},e.id)}))]})]})},ue=le=Object(x.b)((function(e){return{movieList:e.movieListReducer}}),{addMovieToList:function(e){return{type:"ADD_MOVIE_TO_LIST",payload:e}}})(le),de=function(e){var t=e.movieList,n=e.getMovieList,r=e.removeMovieFromList,c=Object(V.useState)(!1),a=Object(E.a)(c,2),o=a[0],s=a[1],i=Object(V.useState)(""),l=Object(E.a)(i,2),u=l[0],d=l[1],j=function(e){d(e),s(!0)};return Object(V.useEffect)((function(){n()}),[n]),Object(I.jsxs)(w.a,{children:[Object(I.jsx)("h1",{children:"My Movie List"}),Object(I.jsxs)(B.a,{children:[o&&Object(I.jsx)(re,{show:o,onClose:function(){d(""),s(!1)},children:Object(I.jsx)(ie,{movieDbId:u})}),t&&t.list&&t.list.map((function(e){return Object(I.jsx)(q.a,{xs:12,md:6,lg:3,children:Object(I.jsx)(Q,{movie:e,onShowDetails:j,onRemoveFromMovieList:r})},e.imdbID)}))]})]})},je=de=Object(x.b)((function(e){return{movieList:e.movieListReducer}}),{getMovieList:function(){return{type:"GET_MOVIE_LIST"}},removeMovieFromList:function(e){return{type:"REMOVE_MOVIE_FROM_LIST",payload:e}}})(de),be=function(){return Object(I.jsx)(x.a,{store:j(),children:Object(I.jsxs)(f.a,{children:[Object(I.jsx)(M,{}),Object(I.jsxs)(g.c,{children:[Object(I.jsx)(g.a,{exact:!0,path:"/",component:ue}),Object(I.jsx)(g.a,{path:"/movie-list",component:je})]})]})})};n(133);c.a.render(Object(I.jsx)(be,{}),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.82e48a79.chunk.js.map